<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Chart_XH – User Manual</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 32em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="chart_xh">Chart_XH</h1>
<p>Chart_XH facilitates embedding charts on a CMSimple_XH website. Basic charts can be created and maintained in the plugin administration. For more advanced needs, there is the possibility to use so-called “Power Charts”. The charts are displayed using <a href="https://www.chartjs.org/">Chart.js</a>.</p>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#download">Download</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#power-charts">Power Charts</a></li>
</ul></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#license">License</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<p>Chart_XH is a plugin for <a href="https://cmsimple-xh.org/">CMSimple_XH</a>. It requires CMSimple_XH ≥ 1.7.0, and PHP ≥ 8.0.0 with the DOM extension. Chart_XH also requires <a href="https://github.com/cmb69/plib_xh">Plib_XH</a> ≥ 1.10; if that is not already installed (see <em>Settings</em>→<em>Info</em>), get the <a href="https://github.com/cmb69/plib_xh/releases/latest">lastest release</a>, and install it.</p>
<h2 id="download">Download</h2>
<p>The <a href="https://github.com/cmb69/chart_xh/releases/latest">lastest release</a> is available for download on Github.</p>
<h2 id="installation">Installation</h2>
<p>The installation is done as with many other CMSimple_XH plugins.</p>
<ol type="1">
<li>Backup the data on your server.</li>
<li>Unzip the distribution on your computer.</li>
<li>Upload the whole folder <code>chart/</code> to your server into the <code>plugins/</code> folder of CMSimple_XH.</li>
<li>Set write permissions to the subfolders <code>config/</code>, <code>css/</code>, and <code>languages/</code>.</li>
<li>Check under <code>Plugins</code> → <code>Chart</code> in the back-end of the website, if all requirements are fulfilled.</li>
</ol>
<h2 id="quick-start">Quick Start</h2>
<p>There is a sample chart <code>voting.xml</code> in <code>chart/examples/</code>. Copy the file into the contents folder of CMSimple_XH (<code>content/chart/</code>). Then embed the sample chart on a page:</p>
<pre><code>{{{chart(&#39;voting&#39;)}}}</code></pre>
<p>Switch to view mode, and you should see a bar chart showing the results of the German federal elections in three categories for the years 2017, 2021, and 2025. Now go to the plugin administration (<code>Plugins</code> → <code>Chart</code> → <code>Administration</code>), select <code>voting</code> and press <code>Edit</code>. You see a form where you can edit the chart. For now, we only want to change the grouping, so that the votes for each party are shown right besides each other. To that purpose, check <code>transposed</code>, and <code>Save</code>. Go back to the page where the chart is shown, and you’ll notice the difference. Now we want to show the chart as a semi-doughnut chart instead of a bar chart. Go to the edit form, and select <code>Semi-Doughnut</code> from the <code>Type</code> drop-down. Save and view the chart. Looks a bit strange, because we have three years; so go back to the edit form, and remove the labels of the more recent elections (the labels contents should only be <code>2017</code>). Save and view the chart again. Looks more like we are used to.</p>
<p>Now go back to the edit form, and play around a bit. Maybe choose a different kind of chart type, or change the colors of the parties (there should be color pickers; otherwise consider to use a contemporary browser). Maybe change the order of the datasets (there are arrow buttons on the right), or delete a couple of datasets (there are trash can buttons), or maybe add a new dataset (there is a plus button at the top of the dataset table). And you may want to edit the values; you can do this directly in the textarea, but you can also use the edit button (pencil) where you get numeric input fields (makes it easier if you are accustomed to a decimal separator other that a dot). If you want to add or remove values, you need to do that in the textarea directly. Also you can try different aspect ratios (the width of the chart is always 100%; the aspect ratio determines the height).</p>
<p>Finally, you may want to create your own chart. Go back to the administration (<code>Plugins</code> → <code>Chart</code> → <code>Administration</code>), press <code>New</code>, and edit the chart like before. The only difference is that you now have to fill in the <code>Name</code> field, which is disabled when you are editing an existing chart. Afterwards, you can show the new chart instead of the <code>voting</code> sample chart by changing the plugin call accordingly.</p>
<h2 id="settings">Settings</h2>
<p>The configuration of the plugin is done as with many other CMSimple_XH plugins in the back-end of the Website. Select <code>Plugins</code> → <code>Chart</code>.</p>
<p>You can change the default settings of Chart_XH under <code>Config</code>. Hints for the options will be displayed when hovering over the help icons with your mouse.</p>
<p>Localization is done under <code>Language</code>. You can translate the character strings to your own language if there is no appropriate language file available, or customize them according to your needs.</p>
<p>The look of Chart_XH can be customized under <code>Stylesheet</code>.</p>
<h2 id="usage">Usage</h2>
<p>To embed a chart on a page:</p>
<pre><code>{{{chart(&#39;name&#39;)}}}</code></pre>
<p>To embed a chart in the template:</p>
<pre><code>&lt;?=chart(&#39;name&#39;)?&gt;</code></pre>
<p>Where <code>name</code> is the name of a chart you have previously defined in the plugin administration (the <a href="#quick-start">Quick Start section</a> describes how that is done).</p>
<h3 id="power-charts">Power Charts</h3>
<p>While regular charts should cover the most basic needs, power charts unleash (almost) the full power of Chart.js. To use these, you need a solid understanding of JSON, and have to dive into the <a href="https://www.chartjs.org/docs/latest/">Chart.js documentation</a>.</p>
<p>While there is some support for creating and maintaining power charts in the plugin administration (including syntax highlighting, if <a href="https://github.com/cmb69/codeeditor_xh/releases">Codeeditor_XH ≥ 2.3</a> is installed), you likely want to do this on a local machine with a good JSON editor at hand.</p>
<p>The gist of it is that you write a JSON file instead of the usual JavaScript configuration of Chart.js, and then embed the chart on a page:</p>
<pre><code>{{{chart_power(&#39;name&#39;, &#39;caption&#39;)}}}</code></pre>
<p>Or in the template:</p>
<pre><code>&lt;?=chart_power(&#39;name&#39;, &#39;caption&#39;)?&gt;</code></pre>
<p>Since JSON does not support full JavaScript syntax, you cannot define any functions to be used as event listeners or otherwise, but most of the Chart.js configuration can be expressed in JSON.</p>
<p>Note that you can export regular charts in the plugin adminstration to JSON, so you can define charts as usual, export them, and then just add a couple of options, or tweak them otherwise.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Report bugs and ask for support either on <a href="https://github.com/cmb69/chart_xh/issues">Github</a> or in the <a href="https://cmsimpleforum.com/">CMSimple_XH Forum</a>.</p>
<h2 id="license">License</h2>
<p>Chart_XH is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>Chart_XH is distributed in the hope that it will be useful, but <em>without any warranty</em>; without even the implied warranty of <em>merchantibility</em> or <em>fitness for a particular purpose</em>. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with Chart_XH. If not, see <a href="https://www.gnu.org/licenses/" class="uri">https://www.gnu.org/licenses/</a>.</p>
<p>Copyright © Christoph M. Becker</p>
<h2 id="credits">Credits</h2>
<p>Chart_XH was inspired by <em>ChoseX</em>.</p>
<p>The plugin is powered by <a href="https://www.chartjs.org/">Chart.js</a>. Many thanks for providing this awesome tool under the MIT license!</p>
<p>The plugin icon is designed by <a href="https://www.flaticon.com/free-icons/graph">Vectors Market - Flaticon</a>. Many thanks for making this icon available for free.</p>
<p>Many thanks to the community at the <a href="https://www.cmsimpleforum.com/">CMSimple_XH Forum</a> for tips, suggestions and testing.</p>
<p>And last but not least many thanks to <a href="httsp://www.harteg.dk">Peter Harteg</a>, the “father” of CMSimple, and all developers of <a href="https://www.cmsimple-xh.org">CMSimple_XH</a> without whom this amazing CMS would not exist.</p>
</body>
</html>
